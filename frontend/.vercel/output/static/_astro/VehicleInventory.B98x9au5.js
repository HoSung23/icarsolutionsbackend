import{j as e}from"./jsx-runtime.IyUXLQ-P.js";import{r as n}from"./index.BVaoNQnN.js";import{s as u}from"./supabase.CX3PRodD.js";import"./_commonjsHelpers.gnU0ypJ3.js";const K=()=>{const[w,T]=n.useState([]),[L,V]=n.useState(!0),[b,c]=n.useState(""),[U,C]=n.useState(!1),[j,f]=n.useState(!1),[i,m]=n.useState([]),[q,S]=n.useState(!1),[k,_]=n.useState(null),[$,v]=n.useState(!1),[g,y]=n.useState(null),[t,N]=n.useState({precio:"",descuento_porcentaje:""}),[a,o]=n.useState({marca:"",modelo_aÃ±o:"",precio:"",estado:"disponible",tipo:"",cilindraje:"",linea:"",origen:"",motor:"",combustible:"",transmision:"",marchas:"",recorrido:"",extras:"",detalles:""});n.useEffect(()=>{x()},[]);const x=async()=>{V(!0);try{const{data:r,error:s}=await u.from("vehicles").select("*").order("created_at",{ascending:!1});if(s)throw s;T(r||[])}catch(r){c(r.message||"Error al cargar vehÃ­culos")}finally{V(!1)}},O=async r=>{r.preventDefault(),f(!0);try{const s=[];if(i.length>0)for(const d of i){const p=`${Date.now()}_${d.name}`,{data:D,error:h}=await u.storage.from("vehicle-images").upload(p,d,{cacheControl:"3600",upsert:!1});if(h)throw h;const{data:E}=u.storage.from("vehicle-images").getPublicUrl(p);s.push(E.publicUrl)}const{error:l}=await u.from("vehicles").insert({marca:a.marca||"",modelo_aÃ±o:a.modelo_aÃ±o||"",precio:parseFloat(a.precio)||0,estado:a.estado||"disponible",tipo:a.tipo||"",imagenes:s.length>0?s:[],cilindraje:parseFloat(a.cilindraje)||0,linea:a.linea||"",origen:a.origen||"",motor:a.motor||"",combustible:a.combustible||"",transmision:a.transmision||"",marchas:parseInt(a.marchas)||0,recorrido:parseFloat(a.recorrido)||0,extras:a.extras||"",detalles:a.detalles||"",created_at:new Date().toISOString()});if(l)throw l;o({marca:"",modelo_aÃ±o:"",precio:"",estado:"disponible",tipo:"",cilindraje:"",linea:"",origen:"",motor:"",combustible:"",transmision:"",marchas:"",recorrido:"",extras:"",detalles:""}),m([]),C(!1),x()}catch(s){c(s.message)}finally{f(!1)}},F=r=>{r.target.files&&m(Array.from(r.target.files))},A=r=>{r.preventDefault(),r.currentTarget.classList.add("border-blue-500","bg-blue-50")},I=r=>{r.currentTarget.classList.remove("border-blue-500","bg-blue-50")},M=r=>{r.preventDefault(),r.currentTarget.classList.remove("border-blue-500","bg-blue-50");const s=r.dataTransfer.files;if(s){const l=Array.from(s).filter(d=>d.type.startsWith("image/"));l.length>0?m(l):c("Solo se permiten archivos de imagen")}},P=r=>{m(i.filter((s,l)=>l!==r))},R=async()=>{if(!(!k||i.length===0)){f(!0);try{const l=[...w.find(p=>p.id===k)?.imagenes||[]];for(const p of i){const D=`${Date.now()}_${p.name}`,{error:h}=await u.storage.from("vehicle-images").upload(D,p,{cacheControl:"3600",upsert:!1});if(h)throw h;const{data:E}=u.storage.from("vehicle-images").getPublicUrl(D);l.push(E.publicUrl)}const{error:d}=await u.from("vehicles").update({imagenes:l}).eq("id",k);if(d)throw d;m([]),S(!1),_(null),x()}catch(r){c(r.message)}finally{f(!1)}}},Q=async(r,s)=>{try{const{error:l}=await u.from("vehicles").update({estado:s}).eq("id",r);if(l)throw l;x()}catch(l){c(l.message)}},Z=async r=>{if(confirm("Â¿Eliminar este vehÃ­culo?"))try{const{error:s}=await u.from("vehicles").delete().eq("id",r);if(s)throw s;x()}catch(s){c(s.message)}},z=r=>{y(r),N({precio:r.precio_original?.toString()||r.precio.toString(),descuento_porcentaje:r.descuento_porcentaje?.toString()||""}),v(!0)},B=async()=>{if(g)try{const r=parseFloat(t.precio),s=parseFloat(t.descuento_porcentaje)||0;if(isNaN(r)||r<=0){c("El precio debe ser un nÃºmero vÃ¡lido mayor a 0");return}if(s<0||s>100){c("El descuento debe estar entre 0 y 100");return}const l=s>0?r*(1-s/100):r,{error:d}=await u.from("vehicles").update({precio_original:r,precio:l,descuento_porcentaje:s>0?s:null}).eq("id",g.id);if(d)throw d;v(!1),y(null),N({precio:"",descuento_porcentaje:""}),x()}catch(r){c(r.message)}};return L?e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("p",{className:"text-center text-gray-500",children:"Cargando vehÃ­culos..."})}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventario de VehÃ­culos"}),e.jsx("button",{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition",children:"+ Agregar VehÃ­culo"})]}),b&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:b}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"Agregar VehÃ­culo"}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Marca *",value:a.marca,onChange:r=>o({...a,marca:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0}),e.jsx("input",{type:"text",placeholder:"Modelo/AÃ±o *",value:a.modelo_aÃ±o,onChange:r=>o({...a,modelo_aÃ±o:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"LÃ­nea",value:a.linea,onChange:r=>o({...a,linea:r.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),e.jsx("input",{type:"number",placeholder:"Precio *",value:a.precio,onChange:r=>o({...a,precio:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("select",{value:a.tipo,onChange:r=>o({...a,tipo:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Tipo de vehÃ­culo *"}),e.jsx("option",{value:"SedÃ¡n",children:"SedÃ¡n"}),e.jsx("option",{value:"SUV",children:"SUV"}),e.jsx("option",{value:"Pickup",children:"Pickup"}),e.jsx("option",{value:"Hatchback",children:"Hatchback"}),e.jsx("option",{value:"CoupÃ©",children:"CoupÃ©"}),e.jsx("option",{value:"Convertible",children:"Convertible"}),e.jsx("option",{value:"Van",children:"Van"}),e.jsx("option",{value:"CamiÃ³n",children:"CamiÃ³n"})]}),e.jsxs("select",{value:a.estado,onChange:r=>o({...a,estado:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"disponible",children:"Disponible"}),e.jsx("option",{value:"vendido",children:"Vendido"}),e.jsx("option",{value:"reservado",children:"Reservado"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Origen",value:a.origen,onChange:r=>o({...a,origen:r.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),e.jsx("input",{type:"text",placeholder:"Motor",value:a.motor,onChange:r=>o({...a,motor:r.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("select",{value:a.combustible,onChange:r=>o({...a,combustible:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"",children:"Combustible"}),e.jsx("option",{value:"Gasolina",children:"Gasolina"}),e.jsx("option",{value:"DiÃ©sel",children:"DiÃ©sel"}),e.jsx("option",{value:"ElÃ©ctrico",children:"ElÃ©ctrico"}),e.jsx("option",{value:"HÃ­brido",children:"HÃ­brido"})]}),e.jsxs("select",{value:a.transmision,onChange:r=>o({...a,transmision:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"",children:"TransmisiÃ³n"}),e.jsx("option",{value:"Manual",children:"Manual"}),e.jsx("option",{value:"AutomÃ¡tica",children:"AutomÃ¡tica"}),e.jsx("option",{value:"CVT",children:"CVT"}),e.jsx("option",{value:"Dual Clutch",children:"Dual Clutch"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("input",{type:"number",placeholder:"Cilindraje",value:a.cilindraje,onChange:r=>o({...a,cilindraje:r.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),e.jsx("input",{type:"number",placeholder:"Marchas",value:a.marchas,onChange:r=>o({...a,marchas:r.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),e.jsx("input",{type:"number",placeholder:"Recorrido (km)",value:a.recorrido,onChange:r=>o({...a,recorrido:r.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Extras (AC, Sunroof, etc.)"]})}),e.jsx("textarea",{placeholder:"Ej: Aire acondicionado, Sunroof panorÃ¡mico, Asientos de cuero, Sensores de reversa, CÃ¡mara trasera...",value:a.extras,onChange:r=>o({...a,extras:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Detalles / Desperfectos"]})}),e.jsx("textarea",{placeholder:"Ej: RaspÃ³n en puerta trasera, Pintura retocada en parachoques, Requiere cambio de llanta...",value:a.detalles,onChange:r=>o({...a,detalles:r.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ImÃ¡genes del VehÃ­culo"}),e.jsxs("div",{onDragOver:A,onDragLeave:I,onDrop:M,className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“¸"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arrastra imÃ¡genes aquÃ­ o haz clic para seleccionar"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:F,className:"hidden",id:"file-input"}),e.jsx("label",{htmlFor:"file-input",className:"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold cursor-pointer transition",children:"Seleccionar archivos"})]}),i.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:[i.length," imagen(es) seleccionada(s):"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from(i).map((r,s)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:URL.createObjectURL(r),alt:`Preview ${s+1}`,className:"w-20 h-20 object-cover rounded border border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>P(s),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold opacity-0 group-hover:opacity-100 transition",children:"âœ•"}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1 truncate",children:[r.name.substring(0,15),"..."]})]},s))})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",disabled:j,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold disabled:opacity-50",children:j?"Subiendo...":"Guardar"}),e.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-900 py-2 rounded-lg font-semibold",children:"Cancelar"})]})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Agregar ImÃ¡genes"}),e.jsxs("div",{onDragOver:A,onDragLeave:I,onDrop:M,className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition mb-4",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“¸"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arrastra imÃ¡genes aquÃ­"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:F,className:"hidden",id:"file-input-modal"}),e.jsx("label",{htmlFor:"file-input-modal",className:"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold cursor-pointer transition",children:"Seleccionar archivos"})]}),i.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:[i.length," imagen(es)"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from(i).map((r,s)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:URL.createObjectURL(r),alt:`Preview ${s+1}`,className:"w-20 h-20 object-cover rounded border border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>P(s),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold opacity-0 group-hover:opacity-100 transition",children:"âœ•"})]},s))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:R,disabled:j||i.length===0,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold disabled:opacity-50",children:j?"Subiendo...":"Agregar ImÃ¡genes"}),e.jsx("button",{onClick:()=>{S(!1),m([]),_(null)},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-900 py-2 rounded-lg font-semibold",children:"Cancelar"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Imagen"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Marca"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Modelo"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Precio"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Descuento"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Estado"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Acciones"})]})}),e.jsx("tbody",{children:w.map(r=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:r.imagenes&&r.imagenes.length>0?e.jsxs("div",{className:"flex gap-1",children:[e.jsx("img",{src:r.imagenes[0],alt:`${r.marca} ${r.modelo_aÃ±o}`,className:"w-16 h-16 object-cover rounded cursor-pointer hover:shadow-lg transition",title:`${r.imagenes.length} imagen(es)`}),r.imagenes.length>1&&e.jsxs("div",{className:"w-16 h-16 bg-blue-100 rounded flex items-center justify-center text-blue-600 font-semibold text-sm cursor-pointer hover:shadow-lg transition",children:["+",r.imagenes.length-1]})]}):e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center text-gray-400 text-xs",children:"Sin imagen"})}),e.jsx("td",{className:"px-4 py-2",children:r.marca}),e.jsx("td",{className:"px-4 py-2",children:r.modelo_aÃ±o}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"flex flex-col",children:r.descuento_porcentaje&&r.descuento_porcentaje>0?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["QTZ ",r.precio_original?.toLocaleString()]}),e.jsxs("span",{className:"text-green-600 font-bold",children:["QTZ ",r.precio.toLocaleString()]})]}):e.jsxs("span",{className:"font-semibold",children:["QTZ ",r.precio.toLocaleString()]})})}),e.jsx("td",{className:"px-4 py-2",children:r.descuento_porcentaje&&r.descuento_porcentaje>0?e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-bold",children:["-",r.descuento_porcentaje,"%"]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"-"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("select",{value:r.estado,onChange:s=>Q(r.id,s.target.value),className:`px-2 py-1 rounded text-sm font-semibold border-0 cursor-pointer ${r.estado==="disponible"?"bg-green-100 text-green-800":r.estado==="vendido"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[e.jsx("option",{value:"disponible",children:"disponible"}),e.jsx("option",{value:"vendido",children:"vendido"}),e.jsx("option",{value:"reservado",children:"reservado"})]})}),e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("button",{onClick:()=>{_(r.id),S(!0),m([])},className:"text-blue-600 hover:text-blue-800 font-semibold mr-3",children:"ðŸ“¸ ImÃ¡genes"}),e.jsx("button",{onClick:()=>z(r),className:"text-green-600 hover:text-green-800 font-semibold mr-3",children:"ðŸ’µ Precio"}),e.jsx("button",{onClick:()=>Z(r.id),className:"text-red-600 hover:text-red-800 font-semibold",children:"Eliminar"})]})]},r.id))})]})}),w.length===0&&!L&&e.jsx("p",{className:"text-center text-gray-500 mt-4",children:"No hay vehÃ­culos en el inventario"}),$&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Editar Precio"}),e.jsx("button",{onClick:()=>{v(!1),y(null),c("")},className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"VehÃ­culo:"}),e.jsxs("p",{className:"font-bold text-gray-900",children:[g.marca," ",g.modelo_aÃ±o]})]}),b&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:b}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Precio Base (QTZ)"}),e.jsx("input",{type:"number",value:t.precio,onChange:r=>N({...t,precio:r.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 150000",step:"1000",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descuento (%)"}),e.jsx("input",{type:"number",value:t.descuento_porcentaje,onChange:r=>N({...t,descuento_porcentaje:r.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 10 (deja vacÃ­o si no hay descuento)",step:"1",min:"0",max:"100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ingresa 0 o deja vacÃ­o para eliminar el descuento"})]}),t.precio&&parseFloat(t.precio)>0&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Vista previa:"}),t.descuento_porcentaje&&parseFloat(t.descuento_porcentaje)>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["QTZ ",parseFloat(t.precio).toLocaleString()]}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-0.5 rounded-full text-xs font-bold",children:["-",t.descuento_porcentaje,"%"]})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["QTZ ",(parseFloat(t.precio)*(1-parseFloat(t.descuento_porcentaje)/100)).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Ahorro: QTZ ",(parseFloat(t.precio)*(parseFloat(t.descuento_porcentaje)/100)).toLocaleString()]})]}):e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["QTZ ",parseFloat(t.precio).toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{onClick:B,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-semibold",children:"Guardar Cambios"}),e.jsx("button",{onClick:()=>{v(!1),y(null),c("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-semibold text-gray-700",children:"Cancelar"})]})]})]})})]})};export{K as default};
