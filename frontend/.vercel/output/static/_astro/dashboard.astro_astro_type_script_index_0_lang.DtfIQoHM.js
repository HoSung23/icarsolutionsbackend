import{s as t}from"./supabase.CX3PRodD.js";import"./_commonjsHelpers.gnU0ypJ3.js";async function a(){const{data:{session:e}}=await t.auth.getSession();if(!e){window.location.href="/admin";return}const{data:r,error:o}=await t.from("users").select("*").eq("id",e.user.id).single();if(o||!r){console.error("Error obteniendo datos del usuario:",o),window.location.href="/admin";return}const n=document.getElementById("user-name"),s=document.getElementById("user-role");n&&(n.textContent=r.nombre),s&&(s.textContent=r.rol)}document.getElementById("logout-btn")?.addEventListener("click",async()=>{const{error:e}=await t.auth.signOut();if(e){console.error("Error al cerrar sesión:",e),alert("Error al cerrar sesión");return}window.location.href="/admin"});a();
